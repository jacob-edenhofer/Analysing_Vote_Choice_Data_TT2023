unemployed_last10yrs_months = ifelse(d17b < 0, NA, d17b),
unemployed_last10yrs_weeks = ifelse(d17c < 0, NA, d17c),
unemployed_dummy = ifelse(unemployed_last10_yrs != 0, 1, 0),
unemployed_dummy_factor = as.factor(unemployed_dummy),
trust_in_politicians = ifelse(q79d < 0, NA, q79d),
trust_in_politicians_factor = as.factor(trust_in_politicians),
trust_in_parliament = ifelse(q79b < 0, NA, q79b),
trust_in_parliament_factor = as.factor(trust_in_parliament),
trust_in_parties = ifelse(q79c < 0, NA, q79c),
trust_in_parties_factor = as.factor(trust_in_parties),
trust_in_public_broadcast = ifelse(q79i < 0, NA, q79i),
trust_in_public_broadcast_factor = as.factor(trust_in_public_broadcast),
trust_general = ifelse(q78 < 0, NA, q78),
trust_general_factor = as.factor(trust_general),
out_group_minorities_assim = ifelse(q125a < 0, NA, q125a),
out_group_minorities_assim_factor = as.factor(out_group_minorities_assim),
out_group_majority_will = ifelse(q125b < 0, NA, q125b),
out_group_majority_will_factor = as.factor(out_group_majority_will),
out_group_immig_econ_good = ifelse(q125c < 0, NA, q125c),
out_group_immig_econ_good_factor = as.factor(out_group_immig_econ_good),
out_group_immig_culture_threat = ifelse(q125d < 0, NA, q125d),
out_group_immig_culture_threat_factor = as.factor(out_group_immig_culture_threat),
out_group_immig_crime = ifelse(q125e < 0, NA, q125e),
out_group_immig_crime_factor = as.factor(out_group_immig_crime),
scale_pol_lasceht = ifelse(q18a < 0, NA, q18a),
scale_pol_scholz = ifelse(q18b < 0, NA, q18b),
scale_pol_baerbock = ifelse(q18c < 0, NA, q18c),
econ_current_eval_general = ifelse(q23 < 0, NA, q23),
econ_current_eval_general_factor = as.factor(econ_current_eval_general),
econ_current_personal = ifelse(q13 < 0, NA, q13),
econ_current_personal_factor = factor(econ_current_personal),
econ_personal_gov_resp = ifelse(q15 < 0, NA, q15),
gender_too_far = ifelse(q27g < 0, NA, q27g),
gender_too_far_factor = factor(gender_too_far),
job_loss_year_next2yrs = ifelse(d18 < 0, NA, d18),
job_loss_year_next2yrs_factor = factor(job_loss_year_next2yrs),
length_unemp_last10yrs_yrs = ifelse(d17a < 0, NA, d17a),
length_unemp_last10yrs_mon = ifelse(d17b < 0, NA, d17b),
unemp_at_least_one_year = ifelse(length_unemp_last10yrs_yrs >= 1, 1, 0),
unemp_at_least_one_year_factor = factor(unemp_at_least_one_year),
profession_loss_next2yrs = ifelse(d19 < 0, NA, d19),
profession_loss_next2yrs_factor = factor(profession_loss_next2yrs),
profession_current = ifelse(d11 < 0, NA, d11),
type_of_emp_contract = ifelse(d13 < 0, NA, d13),
difference_whos_gov = ifelse(q117 < 0, NA, q117),
difference_whos_gov_factor = factor(difference_whos_gov),
difference_who_votes = ifelse(q118 < 0, NA, q118),
difference_who_votes_factor = factor(difference_who_votes))
# simple models
## job loss fear
afd_job_loss_fear <- glm(afd_21 ~ job_loss_year_next2yrs_factor + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor, family = binomial(link = "logit"),
data = gles_mod)
cplot(afd_job_loss_fear,x = "job_loss_year_next2yrs_factor")
## loss of profession
afd_prof_loss_fear <- glm(afd_21 ~ profession_loss_next2yrs + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor, family = binomial(link = "logit"),
data = gles_mod)
## unemployment experience
afd_unemp_exp <- glm(afd_21 ~ unemp_at_least_one_year + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor, family = binomial(link = "logit"),
data = gles_mod)
## econ current general situation
afd_econ_current <- glm(afd_21 ~ econ_current_personal + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor, family = binomial(link = "logit"),
data = gles_mod)
# modelplot
modelplot(list(afd_job_loss_fear, afd_prof_loss_fear,
afd_unemp_exp, afd_econ_current)) +
geom_vline(xintercept = 0)
# simple models
## difference gov
afd_diff_gov <- glm(afd_21 ~ difference_whos_gov + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor, family = binomial(link = "logit"),
data = gles_mod)
## difference voting
afd_prof_loss_fear <- glm(afd_21 ~ difference_who_votes + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor, family = binomial(link = "logit"),
data = gles_mod)
# modelplot
modelplot(list(afd_diff_gov, afd_prof_loss_fear)) +
geom_vline(xintercept = 0)
# interaction models
## difference gov
### job loss fear
afd_diff_gov_int1 <- glm(afd_21 ~ difference_whos_gov*job_loss_year_next2yrs + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor, family = binomial(link = "logit"),
data = gles_mod)
### profession loss fear
afd_diff_gov_int2 <- glm(afd_21 ~ difference_whos_gov*profession_loss_next2yrs + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor, family = binomial(link = "logit"),
data = gles_mod)
### unemployment experience
afd_diff_gov_int3 <- glm(afd_21 ~ difference_whos_gov*unemp_at_least_one_year + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor, family = binomial(link = "logit"),
data = gles_mod)
### personal current situation
afd_diff_gov_int4 <- glm(afd_21 ~ difference_whos_gov*econ_current_personal + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor, family = binomial(link = "logit"),
data = gles_mod)
# modelplot
modelplot(list(afd_diff_gov_int1, afd_diff_gov_int2,
afd_diff_gov_int3, afd_diff_gov_int4)) +
geom_vline(xintercept = 0)
# interaction models
## difference gov
### job loss fear
afd_diff_gov_int5 <- glm(afd_21 ~ difference_who_votes*job_loss_year_next2yrs + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor, family = binomial(link = "logit"),
data = gles_mod)
### profession loss fear
afd_diff_gov_int6 <- glm(afd_21 ~ difference_who_votes*profession_loss_next2yrs + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor, family = binomial(link = "logit"),
data = gles_mod)
### unemployment experience
afd_diff_gov_int7 <- glm(afd_21 ~ difference_who_votes*unemp_at_least_one_year + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor, family = binomial(link = "logit"),
data = gles_mod)
### personal current situation
afd_diff_gov_int8 <- glm(afd_21 ~ difference_who_votes*econ_current_personal + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor, family = binomial(link = "logit"),
data = gles_mod)
# modelplot
modelplot(list(afd_diff_gov_int5, afd_diff_gov_int6,
afd_diff_gov_int7, afd_diff_gov_int8)) +
geom_vline(xintercept = 0)
ggpredict(afd_diff_gov, terms = "difference_whos_gov")
afd_diff_gov
ggpredict(afd_diff_gov, terms = c("difference_whos_gov"))
summary(afd_diff_gov)
ggpredict(afd_diff_gov)
summary(afd_diff_gov)
str(afd_diff_gov)
summary(afd_diff_gov)
ggeffects::ggemmeans(afd_diff_gov, terms = "difference_whos_gov")
# interaction models
## difference gov
### job loss fear
afd_diff_gov_int1 <- glm(afd_21 ~ difference_whos_gov*job_loss_year_next2yrs + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor,
family = binomial(link = "logit"),
data = gles_mod)
### profession loss fear
afd_diff_gov_int2 <- glm(afd_21 ~ difference_whos_gov*profession_loss_next2yrs + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor,
family = binomial(link = "logit"),
data = gles_mod)
### unemployment experience
afd_diff_gov_int3 <- glm(afd_21 ~ difference_whos_gov*unemp_at_least_one_year + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor,
family = binomial(link = "logit"),
data = gles_mod)
### personal current situation
afd_diff_gov_int4 <- glm(afd_21 ~ difference_whos_gov*econ_current_personal + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor,
family = binomial(link = "logit"),
data = gles_mod)
# modelplot
modelplot(list(afd_diff_gov_int1, afd_diff_gov_int2,
afd_diff_gov_int3, afd_diff_gov_int4)) +
geom_vline(xintercept = 0)
# simple models
## job loss fear
afd_job_loss_fear <- glm(afd_21 ~ job_loss_year_next2yrs_factor + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor, family = binomial(link = "logit"),
data = gles_mod)
cplot(afd_job_loss_fear,x = "job_loss_year_next2yrs_factor")
ggpredict(afd_job_loss_fear)
knitr::opts_chunk$set(echo = FALSE)
# load relevant packages
library(tidyverse)
library(haven)
library(modelsummary)
library(survey)
library(here)
library(ggeffects)
library(margins)
# import data
gles <- read_dta(paste0(here(), "/Data/german_longitudinal_election_study_cross_section_post_election2021.dta"))
gles1 <- read_dta(paste0(here(), "/Data/gles_panel_wave20.dta"))
gles_mod <- gles %>%
select(1:100, grep("d38|d4|q18|d63|d18|q63|d17|d8|d7|wum6|q13|q14|q15|q16|q18|q23|q24|q25|q26||q27q35|q37|q46|q78|q79|q125|q143", names(gles))) %>%
mutate(btw17_zweitstimme = ifelse(q34ba < 0, NA, q34ba),
btw21_zweitstimme = ifelse(q114ba < 0, NA, q114ba),
btw21_turnout = ifelse(q111 < 0 | q111 == 8, NA, q111),
btw21_turnout1 = ifelse(btw21_turnout == 1, 1, 0),
year_born = ifelse(grepl("-99|frueher", d2a), NA, d2a),
ostwest2_dummy = ifelse(ostwest2 < 0, NA, ostwest2),
ostwest_factor = factor(ostwest2_dummy,
levels = c(0, 1),
labels = c("ost", "west")),
sex = ifelse(d1 < 0, NA, d1),
sex1 = factor(sex,
levels = c(1, 2),
labels = c("male", "female")),
year_born1 = as.numeric(as.character(year_born)),
age = 2021 - as.numeric(as.character(year_born)),
spd_21 = ifelse(btw21_zweitstimme == 4, 1, 0),
union_21 = ifelse(btw21_zweitstimme == 1, 1, 0),
gruene_21 = ifelse(btw21_zweitstimme == 6, 1, 0),
fdp_21 = ifelse(btw21_zweitstimme == 5, 1, 0),
afd_21 = ifelse(btw21_zweitstimme == 322, 1, 0),
linke_21 = ifelse(btw21_zweitstimme == 7, 1, 0),
spd_to_switch = ifelse(btw21_zweitstimme == 4 & btw17_zweitstimme != 4, 1, 0),
afd_away_switch = ifelse(btw17_zweitstimme == 322 & btw21_zweitstimme != 322, 1, 0),
constituency_centric_rep = ifelse(q63a < 0, NA, q63a),
party_centric_rep = ifelse(q63c < 0, NA, q63c),
household_income = ifelse(d63 < 0, NA, d63),
household_income_factor = as.factor(household_income),
bachelor_dummy = ifelse(d8j1 < 0, NA, d8j1),
school = ifelse(d7 < 0, NA, d7),
abitur = ifelse(d7 == 5, 1, 0),
abitur_factor = ifelse(abitur == 1, "abitur", "no_abitur"),
urban_rural = ifelse(wum6 < 0, NA, wum6),
urban_rural_factor = as.factor(urban_rural),
subjective_class = ifelse(d38 < 0, NA, d38),
left_right_self = ifelse(q37 < 0, NA, q37),
left_right_self_factor = as.factor(left_right_self),
left_right_cdu = ifelse(q35b < 0, NA, q35b),
left_right_cdu_factor = as.factor(left_right_cdu),
distance_cdu = (left_right_cdu-left_right_self)^2,
left_right_csu = ifelse(q35c < 0, NA, q35c),
left_right_csu_factor = as.factor(left_right_csu),
distance_csu = (left_right_csu-left_right_self)^2,
left_right_spd = ifelse(q35d < 0, NA, q35d),
left_right_spd_factor = as.factor(left_right_spd),
distance_spd = (left_right_spd-left_right_self)^2,
left_right_afd = ifelse(q35h < 0, NA, q35h),
left_right_afd_factor = as.factor(left_right_afd),
distance_afd = (left_right_afd-left_right_self)^2,
left_right_fdp = ifelse(q35e < 0, NA, q35e),
left_right_fdp_factor = as.factor(left_right_fdp),
distance_fdp = (left_right_fdp-left_right_self)^2,
left_right_green = ifelse(q35f < 0, NA, q35f),
left_right_green_factor = as.factor(left_right_green),
distance_green = (left_right_green-left_right_self)^2,
left_right_linke = ifelse(q35g < 0, NA, q35g),
left_right_linke_factor = as.factor(left_right_linke),
distance_linke = (left_right_linke-left_right_self)^2,
scholz_love = ifelse(q18b < 0, NA, q18b),
scholz_love_factor = as.factor(scholz_love),
finzanz_abgehangt_subjektiv = ifelse(q46a < 0, NA, q46a),
finzanz_abgehangt_subjektiv_factor = as.factor(finzanz_abgehangt_subjektiv),
arbeit_abgehant_subjektiv = ifelse(q46b < 0, NA, q46b),
arbeit_abgehant_subjektiv_factor = as.factor(arbeit_abgehant_subjektiv),
cancel_culture_subjektiv = ifelse(q46d < 0, NA, q46d),
cancel_culture_subjektiv_factor = as.factor(cancel_culture_subjektiv),
infrastruktur_subjektiv = ifelse(q46c < 0, NA, q46c),
infrastruktur_subjektiv_factor = as.factor(infrastruktur_subjektiv),
unemployed_last10_yrs = ifelse(d17a < 0, NA, d17a),
unemployed_last10yrs_months = ifelse(d17b < 0, NA, d17b),
unemployed_last10yrs_weeks = ifelse(d17c < 0, NA, d17c),
unemployed_dummy = ifelse(unemployed_last10_yrs != 0, 1, 0),
unemployed_dummy_factor = as.factor(unemployed_dummy),
trust_in_politicians = ifelse(q79d < 0, NA, q79d),
trust_in_politicians_factor = as.factor(trust_in_politicians),
trust_in_parliament = ifelse(q79b < 0, NA, q79b),
trust_in_parliament_factor = as.factor(trust_in_parliament),
trust_in_parties = ifelse(q79c < 0, NA, q79c),
trust_in_parties_factor = as.factor(trust_in_parties),
trust_in_public_broadcast = ifelse(q79i < 0, NA, q79i),
trust_in_public_broadcast_factor = as.factor(trust_in_public_broadcast),
trust_general = ifelse(q78 < 0, NA, q78),
trust_general_factor = as.factor(trust_general),
out_group_minorities_assim = ifelse(q125a < 0, NA, q125a),
out_group_minorities_assim_factor = as.factor(out_group_minorities_assim),
out_group_majority_will = ifelse(q125b < 0, NA, q125b),
out_group_majority_will_factor = as.factor(out_group_majority_will),
out_group_immig_econ_good = ifelse(q125c < 0, NA, q125c),
out_group_immig_econ_good_factor = as.factor(out_group_immig_econ_good),
out_group_immig_culture_threat = ifelse(q125d < 0, NA, q125d),
out_group_immig_culture_threat_factor = as.factor(out_group_immig_culture_threat),
out_group_immig_crime = ifelse(q125e < 0, NA, q125e),
out_group_immig_crime_factor = as.factor(out_group_immig_crime),
scale_pol_lasceht = ifelse(q18a < 0, NA, q18a),
scale_pol_scholz = ifelse(q18b < 0, NA, q18b),
scale_pol_baerbock = ifelse(q18c < 0, NA, q18c),
econ_current_eval_general = ifelse(q23 < 0, NA, q23),
econ_current_eval_general_factor = as.factor(econ_current_eval_general),
econ_current_personal = ifelse(q13 < 0, NA, q13),
econ_current_personal_factor = factor(econ_current_personal),
econ_personal_gov_resp = ifelse(q15 < 0, NA, q15),
gender_too_far = ifelse(q27g < 0, NA, q27g),
gender_too_far_factor = factor(gender_too_far),
job_loss_year_next2yrs = ifelse(d18 < 0, NA, d18),
job_loss_year_next2yrs_factor = factor(job_loss_year_next2yrs),
length_unemp_last10yrs_yrs = ifelse(d17a < 0, NA, d17a),
length_unemp_last10yrs_mon = ifelse(d17b < 0, NA, d17b),
unemp_at_least_one_year = ifelse(length_unemp_last10yrs_yrs >= 1, 1, 0),
unemp_at_least_one_year_factor = factor(unemp_at_least_one_year),
profession_loss_next2yrs = ifelse(d19 < 0, NA, d19),
profession_loss_next2yrs_factor = factor(profession_loss_next2yrs),
profession_current = ifelse(d11 < 0, NA, d11),
type_of_emp_contract = ifelse(d13 < 0, NA, d13),
difference_whos_gov = ifelse(q117 < 0, NA, q117),
difference_whos_gov_factor = factor(difference_whos_gov),
difference_who_votes = ifelse(q118 < 0, NA, q118),
difference_who_votes_factor = factor(difference_who_votes))
# simple models
## job loss fear
afd_job_loss_fear <- glm(afd_21 ~ job_loss_year_next2yrs_factor + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor,
family = binomial(link = "logit"),
data = gles_mod)
cplot(afd_job_loss_fear,x = "job_loss_year_next2yrs_factor")
ggpredict(afd_job_loss_fear)
ggpredict(afd_job_loss_fear, terms = c("age"))
ggpredict(afd_job_loss_fear, terms = c("job_loss_year_next2yrs_factor"))
ggpredict(afd_job_loss_fear, terms = c("household_income"))
ggpredict(afd_job_loss_fear, terms = c("ostwest_factor"))
hist(gles_mod$afd_21)
ggpredict(afd_job_loss_fear, terms = c("ostwest_factor"))
cplot(afd_job_loss_fear, dx = "job_loss_year_next2yrs_factor", x = "age", what = "effect")
# simple models
## job loss fear
afd_job_loss_fear <- glm(afd_21 ~ job_loss_year_next2yrs + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor,
family = binomial(link = "logit"),
data = gles_mod)
cplot(afd_job_loss_fear, dx = "job_loss_year_next2yrs", x = "age", what = "effect")
marginaleffects::plot_predictions(afd_job_loss_fear, condition = "job_loss_year_next2yrs")
library(marginaleffects)
comparisons(afd_job_loss_fear, variables = list(job_loss_year_next2yrs = "sd"))
slopes(afd_job_loss_fear)
comparisons(afd_job_loss_fear, variables = list(job_loss_year_next2yrs = "sd"))
nrow(comparisons(afd_job_loss_fear, variables = list(job_loss_year_next2yrs = "sd")))
3424-1267
hh <- comparisons(afd_job_loss_fear, variables = list(job_loss_year_next2yrs = "sd"))
View(hh)
summary(afd_job_loss_fear)
modelsummary(afd_job_loss_fear, output = "markdown")
hhh <- slopes(afd_job_loss_fear)
1277*10
View(hhh)
mtcars
plot_predictions(afd_job_loss_fear, condition = list("job_loss_year_next2yrs", "household_income" = "threenum"))
# interaction models
## difference gov
### job loss fear
afd_diff_gov_int1 <- glm(afd_21 ~ difference_whos_gov*job_loss_year_next2yrs + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor,
family = binomial(link = "logit"),
data = gles_mod)
plot_predictions(afd_diff_gov_int1, condition = list("job_loss_year_next2yrs", "difference_whos_gov" = "minmax"))
plot_predictions(afd_diff_gov_int1, condition = list("job_loss_year_next2yrs", "difference_whos_gov_factor"))
afd_diff_gov_int11 <- glm(afd_21 ~ difference_whos_gov_factor*job_loss_year_next2yrs + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor,
family = binomial(link = "logit"),
data = gles_mod)
plot_predictions(afd_diff_gov_int11, condition = list("job_loss_year_next2yrs", "difference_whos_gov_factor"))
afd_diff_gov_int11 <- glm(afd_21 ~ difference_whos_gov_factor*job_loss_year_next2yrs_factor + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor,
family = binomial(link = "logit"),
data = gles_mod)
plot_predictions(afd_diff_gov_int11, condition = list("job_loss_year_next2yrs_factor", "difference_whos_gov_factor"))
afd_diff_gov_int31 <- glm(afd_21 ~ difference_whos_gov_factor*unemp_at_least_one_year_factor + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor,
family = binomial(link = "logit"),
data = gles_mod)
plot_predictions(afd_diff_gov_int31, condition = list("difference_whos_gov_factor", "unemp_at_least_one_year_factor"))
plot_predictions(afd_diff_gov_int8, condition = list("sex1"))
### personal current situation
afd_diff_gov_int8 <- glm(afd_21 ~ difference_who_votes*econ_current_personal + household_income + age + abitur_factor + sex1 + urban_rural_factor + ostwest_factor, family = binomial(link = "logit"),
data = gles_mod)
plot_predictions(afd_diff_gov_int8, condition = list("sex1"))
wordcountaddin:::text_stats()
# load relevant packages
library(tidyverse)
library(haven)
library(modelsummary)
library(survey)
library(here)
library(ggeffects)
library(margins)
library(marginaleffects)
# import data
gles <- read_dta(paste0(here(), "/Data/german_longitudinal_election_study_cross_section_post_election2021.dta"))
gles12 <- read_dta(paste0(here(), "/Data/ZA7701_v2-0-0_en.dta"))
View(gles)
View(gles12)
# load relevant packages
library(tidyverse)
library(haven)
library(modelsummary)
library(survey)
library(here)
library(ggeffects)
library(margins)
library(marginaleffects)
# import data
gles <- read_dta(paste0(here(), "/Data/german_longitudinal_election_study_cross_section_post_election2021.dta"))
gles12 <- read_dta(paste0(here(), "/Data/ZA7701_v2-0-0.dta"))
# load relevant packages
library(tidyverse)
library(haven)
library(modelsummary)
library(survey)
library(here)
library(ggeffects)
library(margins)
library(marginaleffects)
# import data
# gles <- read_dta(paste0(here(), "/Data/german_longitudinal_election_study_cross_section_post_election2021.dta"))
gles <- read_dta(paste0(here(), "/Data/ZA7701_v2-0-0_en.dta"))
remove(list = ls())
# load relevant packages
library(tidyverse)
library(haven)
library(modelsummary)
library(survey)
library(here)
library(ggeffects)
library(margins)
library(marginaleffects)
# import data
# gles <- read_dta(paste0(here(), "/Data/german_longitudinal_election_study_cross_section_post_election2021.dta"))
gles <- read_dta(paste0(here(), "/Data/ZA7701_v2-0-0_en.dta"))
gles_mod <- gles %>%
select(1:100, grep("d38|d4|q18|d63|d18|q63|d17|d8|d7|wum6|q13|q14|q15|q16|q18|q23|q24|q25|q26||q27q35|q37|q46|q78|q79|q125|q143", names(gles))) %>%
mutate(btw17_zweitstimme = ifelse(q34ba < 0, NA, q34ba),
btw21_zweitstimme = ifelse(q114ba < 0, NA, q114ba),
btw21_turnout = ifelse(q111 < 0 | q111 == 8, NA, q111),
btw21_turnout1 = ifelse(btw21_turnout == 1, 1, 0),
year_born = ifelse(grepl("-99|frueher", d2a), NA, d2a),
ostwest2_dummy = ifelse(ostwest2 < 0, NA, ostwest2),
ostwest_factor = factor(ostwest2_dummy,
levels = c(0, 1),
labels = c("ost", "west")),
sex = ifelse(d1 < 0, NA, d1),
sex1 = factor(sex,
levels = c(1, 2),
labels = c("male", "female")),
year_born1 = as.numeric(as.character(year_born)),
age = 2021 - as.numeric(as.character(year_born)),
spd_21 = ifelse(btw21_zweitstimme == 4, 1, 0),
union_21 = ifelse(btw21_zweitstimme == 1, 1, 0),
gruene_21 = ifelse(btw21_zweitstimme == 6, 1, 0),
fdp_21 = ifelse(btw21_zweitstimme == 5, 1, 0),
afd_21 = ifelse(btw21_zweitstimme == 322, 1, 0),
linke_21 = ifelse(btw21_zweitstimme == 7, 1, 0),
spd_to_switch = ifelse(btw21_zweitstimme == 4 & btw17_zweitstimme != 4, 1, 0),
afd_away_switch = ifelse(btw17_zweitstimme == 322 & btw21_zweitstimme != 322, 1, 0),
constituency_centric_rep = ifelse(q63a < 0, NA, q63a),
party_centric_rep = ifelse(q63c < 0, NA, q63c),
household_income = ifelse(d63 < 0, NA, d63),
household_income_factor = as.factor(household_income),
bachelor_dummy = ifelse(d8j1 < 0, NA, d8j1),
school = ifelse(d7 < 0, NA, d7),
abitur = ifelse(d7 == 5, 1, 0),
abitur_factor = ifelse(abitur == 1, "abitur", "no_abitur"),
urban_rural = ifelse(wum6 < 0, NA, wum6),
urban_rural_factor = as.factor(urban_rural),
subjective_class = ifelse(d38 < 0, NA, d38),
left_right_self = ifelse(q37 < 0, NA, q37),
left_right_self_factor = as.factor(left_right_self),
left_right_cdu = ifelse(q35b < 0, NA, q35b),
left_right_cdu_factor = as.factor(left_right_cdu),
distance_cdu = (left_right_cdu-left_right_self)^2,
left_right_csu = ifelse(q35c < 0, NA, q35c),
left_right_csu_factor = as.factor(left_right_csu),
distance_csu = (left_right_csu-left_right_self)^2,
left_right_spd = ifelse(q35d < 0, NA, q35d),
left_right_spd_factor = as.factor(left_right_spd),
distance_spd = (left_right_spd-left_right_self)^2,
left_right_afd = ifelse(q35h < 0, NA, q35h),
left_right_afd_factor = as.factor(left_right_afd),
distance_afd = (left_right_afd-left_right_self)^2,
left_right_fdp = ifelse(q35e < 0, NA, q35e),
left_right_fdp_factor = as.factor(left_right_fdp),
distance_fdp = (left_right_fdp-left_right_self)^2,
left_right_green = ifelse(q35f < 0, NA, q35f),
left_right_green_factor = as.factor(left_right_green),
distance_green = (left_right_green-left_right_self)^2,
left_right_linke = ifelse(q35g < 0, NA, q35g),
left_right_linke_factor = as.factor(left_right_linke),
distance_linke = (left_right_linke-left_right_self)^2,
scholz_love = ifelse(q18b < 0, NA, q18b),
scholz_love_factor = as.factor(scholz_love),
finzanz_abgehangt_subjektiv = ifelse(q46a < 0, NA, q46a),
finzanz_abgehangt_subjektiv_factor = as.factor(finzanz_abgehangt_subjektiv),
arbeit_abgehant_subjektiv = ifelse(q46b < 0, NA, q46b),
arbeit_abgehant_subjektiv_factor = as.factor(arbeit_abgehant_subjektiv),
cancel_culture_subjektiv = ifelse(q46d < 0, NA, q46d),
cancel_culture_subjektiv_factor = as.factor(cancel_culture_subjektiv),
infrastruktur_subjektiv = ifelse(q46c < 0, NA, q46c),
infrastruktur_subjektiv_factor = as.factor(infrastruktur_subjektiv),
unemployed_last10_yrs = ifelse(d17a < 0, NA, d17a),
unemployed_last10yrs_months = ifelse(d17b < 0, NA, d17b),
unemployed_last10yrs_weeks = ifelse(d17c < 0, NA, d17c),
unemployed_dummy = ifelse(unemployed_last10_yrs != 0, 1, 0),
unemployed_dummy_factor = as.factor(unemployed_dummy),
trust_in_politicians = ifelse(q79d < 0, NA, q79d),
trust_in_politicians_factor = as.factor(trust_in_politicians),
trust_in_parliament = ifelse(q79b < 0, NA, q79b),
trust_in_parliament_factor = as.factor(trust_in_parliament),
trust_in_parties = ifelse(q79c < 0, NA, q79c),
trust_in_parties_factor = as.factor(trust_in_parties),
trust_in_public_broadcast = ifelse(q79i < 0, NA, q79i),
trust_in_public_broadcast_factor = as.factor(trust_in_public_broadcast),
trust_general = ifelse(q78 < 0, NA, q78),
trust_general_factor = as.factor(trust_general),
out_group_minorities_assim = ifelse(q125a < 0, NA, q125a),
out_group_minorities_assim_factor = as.factor(out_group_minorities_assim),
out_group_majority_will = ifelse(q125b < 0, NA, q125b),
out_group_majority_will_factor = as.factor(out_group_majority_will),
out_group_immig_econ_good = ifelse(q125c < 0, NA, q125c),
out_group_immig_econ_good_factor = as.factor(out_group_immig_econ_good),
out_group_immig_culture_threat = ifelse(q125d < 0, NA, q125d),
out_group_immig_culture_threat_factor = as.factor(out_group_immig_culture_threat),
out_group_immig_crime = ifelse(q125e < 0, NA, q125e),
out_group_immig_crime_factor = as.factor(out_group_immig_crime),
scale_pol_lasceht = ifelse(q18a < 0, NA, q18a),
scale_pol_scholz = ifelse(q18b < 0, NA, q18b),
scale_pol_baerbock = ifelse(q18c < 0, NA, q18c),
econ_current_eval_general = ifelse(q23 < 0, NA, q23),
econ_current_eval_general_factor = as.factor(econ_current_eval_general),
econ_current_personal = ifelse(q13 < 0, NA, q13),
econ_current_personal_factor = factor(econ_current_personal),
econ_personal_gov_resp = ifelse(q15 < 0, NA, q15),
gender_too_far = ifelse(q27g < 0, NA, q27g),
gender_too_far_factor = factor(gender_too_far),
job_loss_year_next2yrs = ifelse(d18 < 0, NA, d18),
job_loss_year_next2yrs_factor = factor(job_loss_year_next2yrs),
length_unemp_last10yrs_yrs = ifelse(d17a < 0, NA, d17a),
length_unemp_last10yrs_mon = ifelse(d17b < 0, NA, d17b),
unemp_at_least_one_year = ifelse(length_unemp_last10yrs_yrs >= 1, 1, 0),
unemp_at_least_one_year_factor = factor(unemp_at_least_one_year),
profession_loss_next2yrs = ifelse(d19 < 0, NA, d19),
profession_loss_next2yrs_factor = factor(profession_loss_next2yrs),
profession_current = ifelse(d11 < 0, NA, d11),
type_of_emp_contract = ifelse(d13 < 0, NA, d13),
difference_whos_gov = ifelse(q117 < 0, NA, q117),
difference_whos_gov_factor = factor(difference_whos_gov),
difference_who_votes = ifelse(q118 < 0, NA, q118),
difference_who_votes_factor = factor(difference_who_votes))
View(gles_mod)
wordcountaddin:::text_stats()
